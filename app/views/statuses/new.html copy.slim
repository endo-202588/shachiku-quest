.min-h-screen.bg-gradient-to-br.from-purple-100.to-blue-100.flex.items-center.justify-center.p-4
  .max-w-4xl.w-full.space-y-6
    / ========== ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ  ========== /
    .bg-white.rounded-lg.shadow-xl.p-8
      h1.text-3xl.font-bold.text-center.mb-6.text-purple-600
        | ğŸ“… ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç™»éŒ²

      = form_with model: @status, url: statuses_path, local: true, class: "space-y-6" do |f|
        / ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
        - if @status.errors.any?
          .bg-red-50.border.border-red-200.rounded-lg.p-4
            h3.text-red-800.font-bold.mb-2 ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ
            ul.list-disc.list-inside.text-red-600
              - @status.errors.full_messages.each do |message|
                li = message

        / æ—¥ä»˜é¸æŠ
        div
          = f.label :status_date, "ğŸ“† æ—¥ä»˜ã‚’é¸æŠ", class: "block text-sm font-bold text-gray-700 mb-2"
          = f.date_field :status_date, value: @target_date, id: "status_date_field", class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"

          / æ—¥ä»˜ã«å¿œã˜ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
          .mt-2.text-sm#date-message
            / JavaScriptã§å‹•çš„ã«è¡¨ç¤º

        / ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹é¸æŠ
        div
          = f.label :status_type, "âš”ï¸ ä»Šæ—¥ã®çŠ¶æ…‹", class: "block text-sm font-bold text-gray-700 mb-2"
          .space-y-2
            - Status.status_types.keys.each do |status_key|
              label.flex.items-center.p-3.border.rounded-lg.cursor-pointer.hover:bg-purple-50.transition class=("bg-purple-50 border-purple-300" if @status.status_type == status_key)
                = f.radio_button :status_type, status_key, class: "mr-3"
                span.text-lg
                  = Status.human_attribute_name("status_type.#{status_key}")

        / ãƒ¡ãƒ¢
        div
          = f.label :memo, "ğŸ“ ãƒ¡ãƒ¢ï¼ˆä»»æ„ï¼‰", class: "block text-sm font-bold text-gray-700 mb-2"
          = f.text_area :memo, rows: 3, placeholder: "ä»Šæ—¥ã®æ°—åˆ†ã‚„çŠ¶æ³ã‚’è‡ªç”±ã«æ›¸ã„ã¦ãã ã•ã„...", class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"

        / é€ä¿¡ãƒœã‚¿ãƒ³
        div
          = f.submit "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç™»éŒ²", class: "w-full bg-purple-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-purple-700 transition duration-200 cursor-pointer"

      / ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒªãƒ³ã‚¯(ã“ã“ã«ç§»å‹•!)
      .text-center.mt-4
        = link_to "â† æˆ»ã‚‹", users_path, class: "text-gray-600 hover:text-gray-800"

    / ========== è£œè¶³æƒ…å ±ã‚»ã‚¯ã‚·ãƒ§ãƒ³(ã‚ªãƒ—ã‚·ãƒ§ãƒ³) ========== /
    .bg-white.rounded-lg.shadow-xl.p-8
      h2.text-2xl.font-bold.text-gray-800.mb-4
        | ğŸ’¡ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç™»éŒ²ã®ãƒ’ãƒ³ãƒˆ
      .text-gray-700.space-y-2
        p ãƒ»æ—¥ã€…ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’è¨˜éŒ²ã™ã‚‹ã“ã¨ã§ã€ä½“èª¿ã®å¤‰åŒ–ã‚’æŠŠæ¡ã§ãã¾ã™
        p ãƒ»éå»ã®ãƒ‡ãƒ¼ã‚¿ã¯è‡ªå‹•çš„ã«ä¿å­˜ã•ã‚Œã¾ã™
        p ãƒ»ãƒ¡ãƒ¢æ¬„ã«ã¯è‡ªç”±ã«æ°—åˆ†ã‚„çŠ¶æ³ã‚’æ›¸ãè¾¼ã‚ã¾ã™

javascript:
  document.addEventListener('DOMContentLoaded', function() {
    const dateField = document.getElementById('status_date_field');
    const messageDiv = document.getElementById('date-message');

    function updateMessage() {
      const selectedDate = new Date(dateField.value);
      const today = new Date();
      today.setHours(0, 0, 0, 0);
      selectedDate.setHours(0, 0, 0, 0);

      if (selectedDate.getTime() === today.getTime()) {
        messageDiv.innerHTML = '<div class="text-green-600 font-bold">âœ… æœ¬æ—¥ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç™»éŒ²ã—ã¾ã™</div>';
      } else if (selectedDate > today) {
        messageDiv.innerHTML = '<div class="text-blue-600 font-bold">ğŸ“… æœªæ¥ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’äº‹å‰ç™»éŒ²ã—ã¾ã™</div>';
      } else {
        messageDiv.innerHTML = '<div class="text-gray-600 font-bold">ğŸ“ éå»ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç™»éŒ²ã—ã¾ã™</div>';
      }
    }

    // åˆæœŸè¡¨ç¤º
    updateMessage();

    // æ—¥ä»˜å¤‰æ›´æ™‚
    dateField.addEventListener('change', updateMessage);
  });
